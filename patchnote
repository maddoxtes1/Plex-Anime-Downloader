beta-0.7.0

## ğŸ¨ Nouveaux thÃ¨mes style anime

### âœ¨ Deux nouveaux thÃ¨mes ajoutÃ©s
Deux nouveaux thÃ¨mes inspirÃ©s de l'univers anime ont Ã©tÃ© ajoutÃ©s pour personnaliser votre interface :

#### ğŸ–¤ Manga Noir
Un thÃ¨me sombre et dynamique inspirÃ© du style manga :
- **Fond** : Noir profond avec effets de lueur subtils
- **Accents** : Rouge vif (#ff1744), orange (#ff6d00), jaune (#ffea00)
- **Style** : Effets de lueur et ombres pour un rendu cinÃ©matographique
- **Parfait pour** : Les fans de manga et d'anime avec un goÃ»t pour les thÃ¨mes sombres et Ã©nergiques

#### ğŸŒ¸ Ghibli Dream
Un thÃ¨me doux et pastel inspirÃ© des films Studio Ghibli :
- **Fond** : Beige/crÃ¨me avec dÃ©gradÃ©s subtils et effets de lumiÃ¨re naturelle
- **Accents** : Vert olive (#8b9a46), beige chaud (#c4a77d), vert menthe (#a8c5a0)
- **Style** : Ambiance douce et apaisante, rappelant la nature et les paysages Ghibli
- **Parfait pour** : Les amateurs de Studio Ghibli qui prÃ©fÃ¨rent une interface douce et harmonieuse

### ğŸ”„ DisponibilitÃ©
- **Dashboard local** : SÃ©lectionnables dans l'onglet ParamÃ¨tres
- **Extension navigateur** : Synchronisation automatique avec le thÃ¨me du dashboard
- **CompatibilitÃ©** : Fonctionnent avec tous les Ã©lÃ©ments de l'interface (cartes, boutons, onglets, etc.)

## ğŸ“… SystÃ¨me de scan du planning anime-sama

### ğŸ†• Nouvelle fonctionnalitÃ© majeure
Un systÃ¨me complet de scan du planning anime-sama a Ã©tÃ© intÃ©grÃ© pour comparer automatiquement vos animes avec le planning officiel et identifier les animes qui ne sont plus diffusÃ©s ou qui ont tous leurs Ã©pisodes installÃ©s.

### ğŸ” FonctionnalitÃ©s du scan
- **Scan automatique** : Le systÃ¨me scanne automatiquement le planning au dÃ©marrage et Ã  chaque cycle du streaming manager
- **Comparaison intelligente** : Compare vos animes avec le planning officiel d'anime-sama organisÃ© par jour de la semaine
- **VÃ©rification des Ã©pisodes** : Pour les animes non trouvÃ©s dans le planning, vÃ©rifie automatiquement si tous les Ã©pisodes sont installÃ©s
- **Support des saisons complexes** : GÃ¨re les saisons au format `x-y` (ex: `saison3-2`) en tÃ©lÃ©chargeant et combinant plusieurs fichiers `episodes.js`
- **Support des animes spÃ©ciaux** : GÃ¨re les animes `single_download` et `no_day` (jour 7) avec des traitements spÃ©cifiques

### ğŸ—‘ï¸ Suppression automatique (optionnelle)
Une nouvelle option `auto_planning` permet de supprimer automatiquement les animes selon des critÃ¨res prÃ©cis :
- **Pour auto_download** : Supprime si l'anime n'est plus dans le planning ET tous les Ã©pisodes sont installÃ©s
- **Pour single_download** : Supprime si tous les Ã©pisodes sont installÃ©s
- **Activation** : Option disponible dans l'onglet ParamÃ¨tres du dashboard local

### ğŸ’¾ Stockage persistant
- Les rÃ©sultats du scan sont sauvegardÃ©s dans `planning_scan_data.json` pour consultation ultÃ©rieure
- Le statut du scan utilise une variable globale (plus de fichier JSON temporaire)

## ğŸ¨ Refonte complÃ¨te du dashboard

### ğŸ—ï¸ Architecture amÃ©liorÃ©e
Le dashboard a Ã©tÃ© complÃ¨tement refondu pour une meilleure organisation et maintenabilitÃ© :
- **Pages sÃ©parÃ©es** : Chaque onglet est maintenant une page distincte avec sa propre route :
  * `/local/dashboard/news` - Page ActualitÃ©s
  * `/local/dashboard/planning` - Page Planning (nouvelle)
  * `/local/dashboard/logs` - Page Logs
  * `/local/dashboard/settings` - Page ParamÃ¨tres
- **Template de base** : CrÃ©ation de `base_dashboard.html` comme template commun avec header et navigation
- **Templates individuels** : Chaque page a son propre template pour faciliter la maintenance
- **Navigation amÃ©liorÃ©e** : Navigation fluide entre les pages avec liens directs

### ğŸ“Š Nouvelle page Planning
Une page dÃ©diÃ©e au scan du planning avec de nombreuses fonctionnalitÃ©s :

#### ğŸ¯ Affichage des rÃ©sultats
- **Cartes colorÃ©es** selon le statut de l'anime :
  * ğŸŸ¢ **Normal** (pas de couleur) : Anime trouvÃ© dans le planning
  * ğŸŸ¢ **Vert** : Pas dans le planning mais tous les Ã©pisodes installÃ©s
  * ğŸŸ¡ **Jaune** : Pas dans le planning et Ã©pisodes incomplets
  * ğŸ”´ **Rouge** : Anime non trouvÃ© sur anime-sama
- **Organisation par jour** : Affichage groupÃ© par jour de la semaine avec bordures distinctes
- **Section spÃ©ciale** : Section horizontale pour les animes `single_download`
- **Statistiques en temps rÃ©el** : Compteurs en haut de page (total, correct, verts, jaunes, rouges)
- **Design responsive** : Affichage adaptatif pour tous les Ã©crans

#### ğŸ” Modal de dÃ©tails d'anime
En cliquant sur une carte d'anime, une modal s'ouvre avec :
- **Informations complÃ¨tes** : Titre rÃ©el, image, description complÃ¨te de l'anime
- **Liste des saisons** : Toutes les saisons disponibles sur anime-sama avec nombre d'Ã©pisodes
- **Statut d'installation** : Nombre d'Ã©pisodes installÃ©s vs total pour chaque saison
- **Actions rapides** :
  * ğŸ”— Bouton pour ouvrir la page anime-sama dans un nouvel onglet
  * ğŸ—‘ï¸ Bouton pour supprimer l'anime de `anime.json` et `planning_scan_data.json`

#### âš™ï¸ ContrÃ´les du scan
- **Bouton de scan manuel** : Lancer un scan Ã  tout moment
- **Ã‰cran de chargement** : Affichage pendant le scan avec indication du statut
- **Polling automatique** : Mise Ã  jour automatique de l'interface pendant le scan
- **Affichage des rÃ©sultats** : RÃ©sultats affichÃ©s immÃ©diatement aprÃ¨s le scan

## ğŸ”§ API anime-sama amÃ©liorÃ©e

### ğŸ“¡ Nouvelles fonctions
- **extract_anime_info()** : Extrait le titre et l'image depuis la page catalogue (accepte maintenant `name` au lieu de `url` complet)
- **extract_anime_details()** : Nouvelle fonction pour extraire la description complÃ¨te et la liste des saisons depuis la page catalogue
- **get_planning_anime_urls()** : RÃ©cupÃ¨re les URLs du planning organisÃ©es par jour (0-7), avec support du `no_day` (jour 7)

### ğŸ¯ AmÃ©liorations techniques
- **Extraction robuste** : AmÃ©lioration de l'extraction des saisons depuis le HTML (div flex flex-wrap bg-slate-900)
- **Description prÃ©cise** : Extraction amÃ©liorÃ©e de la description depuis le h2 'Synopsis'
- **Gestion des erreurs** : Meilleure gestion des cas oÃ¹ l'anime n'est pas trouvÃ©

## âš™ï¸ Configuration amÃ©liorÃ©e

### ğŸ”„ Migration de configuration
- **Nouvelle structure** : Migration de `as_Baseurl` vers la nouvelle structure `[anime_sama]` avec `base_url`
- **RÃ©trocompatibilitÃ©** : L'ancienne structure `[scan-option]` est toujours supportÃ©e pour la migration
- **Nouveau paramÃ¨tre** : Ajout de `auto_planning` dans la section `[anime_sama]`
- **Migration automatique** : Les anciennes configurations sont automatiquement migrÃ©es vers la nouvelle structure

### ğŸ“ Fichiers de configuration
- **planning_scan_data.json** : AjoutÃ© dans la section database de `config.py` pour le stockage persistant
- **Structure unifiÃ©e** : Tous les paramÃ¨tres anime-sama sont maintenant regroupÃ©s dans `[anime_sama]`

## ğŸš€ AmÃ©liorations du manager

### ğŸ”„ Scan intÃ©grÃ©
- **Scan automatique** : Le scan du planning est maintenant intÃ©grÃ© dans le streaming manager
- **ExÃ©cution synchrone** : Le scan s'exÃ©cute de maniÃ¨re synchrone pour garantir la cohÃ©rence des donnÃ©es
- **Enrichissement des donnÃ©es** : Les rÃ©sultats du scan sont enrichis avec `extract_anime_info()` pour obtenir le nom rÃ©el et l'image de chaque anime
- **Gestion du statut** : Utilisation de variables globales pour le statut du scan (plus rapide et plus fiable)

## ğŸ› Corrections et amÃ©liorations

### ğŸ”§ Corrections techniques
- **Redirections** : Correction des redirections pour rester sur la page actuelle aprÃ¨s les actions (notamment dans Settings)
- **Gestion des erreurs** : AmÃ©lioration de la gestion des erreurs et du logging
- **Support des saisons multi-parties** : AmÃ©lioration de `check_episodes_complete()` pour gÃ©rer les saisons au format `x-y`
- **Interface utilisateur** : Standardisation des descriptions dans le panneau settings (format uniforme)

### ğŸ“± AmÃ©liorations UX
- **Navigation fluide** : Passage d'un systÃ¨me d'onglets avec fragments URL Ã  des routes sÃ©parÃ©es pour une meilleure navigation
- **Affichage optimisÃ©** : Correction des problÃ¨mes d'affichage avec les CSS de thÃ¨me
- **Responsive design** : AmÃ©lioration de l'affichage sur tous les types d'Ã©crans

## ğŸ“¦ Fichiers modifiÃ©s

### Nouveaux fichiers
- `app/flask/dashboard/templates/base_dashboard.html` - Template de base du dashboard
- `app/flask/dashboard/templates/news.html` - Page ActualitÃ©s
- `app/flask/dashboard/templates/planning.html` - Page Planning
- `app/flask/dashboard/templates/logs.html` - Page Logs
- `app/flask/dashboard/templates/settings.html` - Page ParamÃ¨tres

### Fichiers modifiÃ©s
- `app/streaming/function/anime_sama.py` - Ajout de `anime_sama_planning` avec support saisons x-y et auto-delete
- `app/streaming/api/anime_sama_api.py` - Nouvelles fonctions et amÃ©liorations
- `app/streaming/manager.py` - IntÃ©gration du scan du planning
- `app/flask/dashboard/routes/local_routes.py` - Nouvelles routes planning, dÃ©tails, suppression
- `app/flask/helpers.py` - Mise Ã  jour pour nouvelle structure config
- `app/sys/config.py` - Ajout planning_scan_data.json, mise Ã  jour structure anime_sama

### Fichiers supprimÃ©s
- `app/flask/dashboard/templates/local_dashboard.html` - RemplacÃ© par les templates sÃ©parÃ©s

beta-0.6.6

## âš ï¸ Correction importante - RÃ©installation de l'extension requise

### ğŸ› Bug corrigÃ©
Un problÃ¨me de version dans la Beta-0.6.5 empÃªchait l'extension de fonctionner correctement. Ce bug a Ã©tÃ© corrigÃ© dans la Beta-0.6.6.

### ğŸ”„ Action requise
**âš ï¸ IMPORTANT** : Pour bÃ©nÃ©ficier de toutes les amÃ©liorations et corrections de cette version, vous devez **rÃ©installer l'extension** dans votre navigateur :
1. Supprimez l'ancienne version de l'extension
2. Installez la nouvelle version Beta-0.6.6
3. Reconnectez-vous Ã  votre serveur depuis l'extension

L'extension devrait maintenant fonctionner correctement avec toutes les nouvelles fonctionnalitÃ©s !

## ğŸ”” AmÃ©lioration du systÃ¨me de notifications

### âœ¨ ExpÃ©rience utilisateur amÃ©liorÃ©e
Les notifications ont Ã©tÃ© complÃ¨tement repensÃ©es pour offrir une expÃ©rience plus agrÃ©able et informative :
- ğŸ“š **Empilement intelligent** : Les notifications ne se superposent plus ! Les nouvelles notifications apparaissent en dessous des anciennes, crÃ©ant une pile Ã©lÃ©gante
- ğŸ“ **Taille optimisÃ©e** : Les notifications sont maintenant plus compactes et discrÃ¨tes, sans perdre en lisibilitÃ©
- âš¡ **Affichage plus rapide** : Les animations sont plus fluides et les notifications disparaissent aprÃ¨s 2 secondes (au lieu de 5)
- ğŸ¯ **Messages personnalisÃ©s** : Le nom rÃ©el de l'anime est maintenant affichÃ© dans les notifications au lieu de messages gÃ©nÃ©riques comme "Cet anime" ou "Anime supprimÃ©"
- ğŸ¨ **Design moderne** : Nouveau style avec effet de flou (backdrop-filter), bordures colorÃ©es et icÃ´nes visuelles (âœ“ pour succÃ¨s, âœ• pour erreur, âš  pour avertissement)

### ğŸ“± Types de notifications
- âœ… **SuccÃ¨s** : AffichÃ©es en vert lors de l'ajout ou de la suppression rÃ©ussie d'un anime
- âŒ **Erreur** : AffichÃ©es en rouge pour les erreurs (anime dÃ©jÃ  prÃ©sent, saison non supportÃ©e, etc.)
- âš ï¸ **Avertissement** : AffichÃ©es en orange pour les cas particuliers (anime dÃ©jÃ  dans la liste)

## ğŸ“º Support des saisons avec plages

### ğŸ†• Nouvelle fonctionnalitÃ©
L'extension supporte maintenant les saisons avec plages numÃ©riques (ex: `saison1-2`, `saison3-5`) :
- âœ… **Saisons simples** : `saison1` â†’ enregistrÃ© comme `"season": "1"`
- âœ… **Saisons avec plages** : `saison1-2` â†’ enregistrÃ© comme `"season": "1-2"`
- âœ… **Distinction claire** : Les saisons `1` et `1-2` sont maintenant traitÃ©es comme des entrÃ©es distinctes dans la liste

### ğŸš« Saisons non supportÃ©es
Certains types de saisons ne sont pas supportÃ©s pour garantir la cohÃ©rence des donnÃ©es :
- âŒ **Saisons avec suffixes** : `saison1hs`, `saison2special`, `saison3ova` â†’ RejetÃ©es avec un message d'erreur explicite
- ğŸ’¬ **Message informatif** : Un message clair indique que ce type de saison n'est pas supportÃ© et suggÃ¨re d'utiliser la version standard ou avec tirets
- ğŸ¯ **Indication visuelle** : Sur les pages de catalogue et les cartes du planning, un message "Saison non supportÃ©e" remplace le bouton de tÃ©lÃ©chargement pour ces saisons

### ğŸ”§ AmÃ©liorations techniques
- ğŸ” **Validation cÃ´tÃ© client** : VÃ©rification immÃ©diate dans l'extension avant d'envoyer la requÃªte au serveur
- ğŸ›¡ï¸ **Validation cÃ´tÃ© serveur** : Double vÃ©rification dans l'API pour garantir l'intÃ©gritÃ© des donnÃ©es
- ğŸ“ **Extraction amÃ©liorÃ©e** : L'extraction de la saison depuis l'URL est maintenant plus robuste et conserve les tirets



"beta-0.6.5

## ğŸŒ URL de base anime-sama configurable

### ğŸ“‹ Contexte
Ã€ chaque changement de domaine d'anime-sama (anime-sama.eu â†’ anime-sama.tv, etc.), il Ã©tait nÃ©cessaire de modifier le code source, de rebuild l'image Docker et de redÃ©ployer l'application. Cette procÃ©dure Ã©tait fastidieuse et nÃ©cessitait une nouvelle version Ã  chaque changement.

### âœ¨ Nouvelle fonctionnalitÃ©
Une option `as_Baseurl` a Ã©tÃ© ajoutÃ©e dans la configuration, permettant de modifier l'URL de base directement depuis le dashboard local, sans intervention sur le code source. En cas de changement de domaine, une simple annonce sur le forum suffit pour informer les utilisateurs, qui peuvent alors mettre Ã  jour l'URL en quelques clics.

### ğŸ”§ Fonctionnement
- ğŸ“ Le paramÃ¨tre `as_Baseurl` est accessible dans l'onglet **ParamÃ¨tres** du dashboard local
- ğŸ”— Il suffit de modifier l'URL (ex: `https://anime-sama.tv`) et de sauvegarder
- âš™ï¸ Le systÃ¨me utilise automatiquement cette URL pour tous les tÃ©lÃ©chargements
- ğŸ”„ **Synchronisation automatique avec l'extension** : L'extension rÃ©cupÃ¨re l'URL depuis l'API et s'adapte automatiquement au nouveau domaine. Une mise Ã  jour de l'extension vers Beta-0.6.5 est nÃ©cessaire pour bÃ©nÃ©ficier de cette fonctionnalitÃ©
- ğŸ”’ L'extension injecte dynamiquement ses scripts uniquement sur le domaine configurÃ© (sÃ©curitÃ© renforcÃ©e)

### ğŸš€ Migration automatique
- âœ… Les installations existantes reÃ§oivent automatiquement le paramÃ¨tre avec la valeur par dÃ©faut `https://anime-sama.tv` lors de la mise Ã  jour vers Beta-0.6.5

beta-0.6.3

## ğŸ¨ Interface utilisateur

### SystÃ¨me de thÃ¨mes
- Ajout de 6 thÃ¨mes personnalisables pour le dashboard local et l'extension
- ThÃ¨mes disponibles : Dark, Light, Blue, Purple, Green, Orange
- SÃ©lection du thÃ¨me directement depuis le dashboard local
- Synchronisation automatique du thÃ¨me avec l'extension navigateur
- Application du thÃ¨me sur toutes les pages (dashboard, access, extension)

### AmÃ©lioration du dashboard local
- Nouveau systÃ¨me d'onglets : News, Logs, Settings
- Interface rÃ©organisÃ©e pour une meilleure navigation

### Extension navigateur
- Correction du popup de l'extension (problÃ¨me d'affichage rÃ©solu)
- Affichage amÃ©liorÃ© du statut de connexion (IP du serveur au lieu de l'URL complÃ¨te)
- Boutons de connexion redimensionnÃ©s pour une meilleure ergonomie
- Synchronisation automatique du thÃ¨me avec le dashboard

## ğŸ“° SystÃ¨me d'actualitÃ©s

### IntÃ©gration dans le dashboard
- Nouvel onglet "News" dans le dashboard local
- RÃ©cupÃ©ration automatique des actualitÃ©s depuis le serveur centralisÃ©
- Affichage des actualitÃ©s avec icÃ´nes et couleurs selon le type
- Support des actualitÃ©s mÃªme pour les serveurs outdated

## ğŸ“Š SystÃ¨me de tracking

### Suivi des serveurs
- GÃ©nÃ©ration automatique d'un ID unique par serveur (UUID)
- Tracking anonyme des serveurs en ligne
- Statistiques : nombre de serveurs en ligne, total crÃ©Ã©s, rÃ©partition par version
- Aucune collecte d'informations personnelles (pas d'IP, pas de donnÃ©es sensibles)
- Ping automatique toutes les 5 minutes vers le serveur d'actualitÃ©s

## ğŸ“ Gestion des logs

### Visualisation des logs
- Nouvel onglet "Logs" dans le dashboard local
- Affichage de tous les fichiers de logs de l'application
- Streaming en temps rÃ©el des logs Docker (tous les fichiers combinÃ©s)
- Formatage terminal pour une lecture optimale
- SÃ©lection du fichier de log Ã  afficher
- Option "Docker logs (real-time)" pour voir tous les logs en direct

## âš™ï¸ Gestion des versions

### SystÃ¨me de versioning
- Stockage de la version dans config.conf
- Validation automatique des versions connues
- Mise Ã  jour automatique vers une version valide si version inconnue
- Liste des versions connues pour faciliter les mises Ã  jour
